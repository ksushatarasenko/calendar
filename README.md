# Work Calendar

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–µ–¥–µ–Ω–∏—è —Ä–∞–±–æ—á–µ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è, –ø–æ–¥—Å—á—ë—Ç–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Supabase –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π
–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üî• –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Supabase Auth  
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—É –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å)
- –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü/–≥–æ–¥
- –í–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤ –ø–æ –¥–Ω—è–º
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ Supabase
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
- –°–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞
- Offline-—Ä–µ–∂–∏–º (Service Worker)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–∞—Ö (PL/RU)
- Magic Link login (–≤—Ö–æ–¥ –ø–æ email-—Å—Å—ã–ª–∫–µ)

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/calendar
‚îÇ
‚îú‚îÄ‚îÄ index.html               ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π HTML
‚îú‚îÄ‚îÄ sw.js                    ‚Äî service worker
‚îú‚îÄ‚îÄ manifest.json            ‚Äî PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îÇ
‚îú‚îÄ‚îÄ css/                     ‚Äî —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ icons/                   ‚Äî –∏–∫–æ–Ω–∫–∏
‚îú‚îÄ‚îÄ image/                   ‚Äî –∫–∞—Ä—Ç–∏–Ω–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ app.js               ‚Äî —Å—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ auth.js              ‚Äî –ª–æ–≥–∏–Ω/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/MagicLink
‚îÇ   ‚îú‚îÄ‚îÄ calendar.js          ‚Äî –ª–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
‚îÇ   ‚îú‚îÄ‚îÄ save_work.js         ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ save_task.js         ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ export_to_excel.js   ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Å—è—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Excel
‚îÇ   ‚îú‚îÄ‚îÄ open_day.js          ‚Äî –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ reports.js           ‚Äî —Ä–∞—Å—á—ë—Ç —Å—É–º–º–∞—Ä–Ω—ã—Ö —á–∞—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ui.js                ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã, –∫–Ω–æ–ø–∫–∏, –≤–∏–∑—É–∞–ª
‚îÇ   ‚îî‚îÄ‚îÄ supabase.js          ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ Supabase
```

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç  
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

- –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è –≤ Supabase  
- –±—ã–ª –ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ MagicLink  
- –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞

### 2. –ü—Ä–∏ –≤—Ö–æ–¥–µ
`auth.js` –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

- –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ email+password –∏–ª–∏ MagicLink
- –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∫–∞–ª–µ–Ω–¥–∞—Ä—è

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è  
`calendar.js`:

- –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
- —Å—Ç—Ä–æ–∏—Ç —Å–µ—Ç–∫—É –¥–Ω–µ–π
- –≤—ã–∑—ã–≤–∞–µ—Ç `loadWorkData(user)` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —á–∞—Å–æ–≤

### 4. –†–∞–±–æ—Ç–∞ —Å –¥–Ω—è–º–∏  
`open_day.js`:

- –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–Ω—è
- –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–æ–¥–∏—Ç—å —á–∞—Å—ã
- –≤—ã–∑—ã–≤–∞–µ—Ç `save_work.js`

### 5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–∞—Å–æ–≤  
`save_work.js`:

- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Supabase —Ç–∞–±–ª–∏—Ü—É  
- –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å—É–º–º—É —á–∞—Å–æ–≤

### 6. –≠–∫—Å–ø–æ—Ä—Ç  
`export_to_excel.js`:

- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Excel-—Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞ –º–µ—Å—è—Ü
- –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞—Ç—ã, —á–∞—Å—ã –∏ –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É

### 7. Offline
`sw.js`:

- –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –∫–µ—à–∏—Ä—É–µ—Ç —Ä–µ—Å—É—Ä—Å—ã

## üß© –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- HTML/CSS/JS
- Supabase Auth
- Supabase Database
- ExcelJS
- Service Worker
- PWA-–º–∞–Ω–∏—Ñ–µ—Å—Ç

## üöÄ –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Live Server  
2. –û—Ç–∫—Ä–æ–π:

```
http://127.0.0.1:5500/calendar/
```

3. –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ redirect-URLs –≤ Supabase:

- http://127.0.0.1:5500/*
- https://–≤–∞—à_–ª–æ–≥–∏–Ω.github.io/*

## üßë‚Äçüíº –†–∞–±–æ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å  
- –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ user.id  
- –∫–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–µ–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  

## üìä –û—Ç—á—ë—Ç—ã / —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- –∏—Ç–æ–≥–æ–≤—ã–µ —á–∞—Å—ã –∑–∞ –º–µ—Å—è—Ü  
- —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å–æ–≤  
- —ç–∫—Å–ø–æ—Ä—Ç –≤ Excel  

## üìò User Guide

### –í—Ö–æ–¥
- email + –ø–∞—Ä–æ–ª—å  
- –∏–ª–∏ Magic Link  

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤
1. –ö–ª–∏–∫ –ø–æ –¥–Ω—é  
2. –í–≤–æ–¥ —á–∞—Å–æ–≤  
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å  

### –≠–∫—Å–ø–æ—Ä—Ç
- –ö–Ω–æ–ø–∫–∞ "–≠–∫—Å–ø–æ—Ä—Ç"  
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ Excel-—Ñ–∞–π–ª–∞  

### –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- –∫–Ω–æ–ø–∫–∞ üåô / ‚òÄÔ∏è  

### –í—ã—Ö–æ–¥
- "–í—ã–π—Ç–∏"

## üß© –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó)

### 1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –æ–±–ª–∞—á–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.

### 2. –§—É–Ω–∫—Ü–∏–∏
- —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è  
- –ª–æ–≥–∏–Ω  
- magic link  
- —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–Ω–µ–π  
- –≤–≤–æ–¥ —á–∞—Å–æ–≤  
- —ç–∫—Å–ø–æ—Ä—Ç  
- offline  

### 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- SPA –Ω–∞ —á–∏—Å—Ç–æ–º JS  
- Supabase backend  
- PWA  

### 4. –¢–∞–±–ª–∏—Ü–∞ Supabase

#### –¢–∞–±–ª–∏—Ü–∞ `work`
| –ü–æ–ª–µ     | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| id       | uuid    | PK |
| user_id  | uuid    | –í–ª–∞–¥–µ–ª–µ—Ü |
| date     | date    | –î–∞—Ç–∞ |
| hours    | numeric | –ß–∞—Å—ã |
| note     | text    | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
